<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TEMPLATE</title>

<style>
*{box-sizing:border-box}

body{
  margin:0;
  padding:24px;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",system-ui,sans-serif;
  background:#f3f4f6;
  display:flex;
  justify-content:center;
}

.app{
  width:100%;
  max-width:1280px;
  height:calc(100vh - 48px);
  background:#fff;
  border-radius:24px;
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:12px;
  box-shadow:0 20px 60px rgba(0,0,0,.15);
}

/* ===== 레이아웃 50:50 ===== */
.app-body{
  flex:1;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px;
  min-height:0;
}

/* ================= LEFT ================= */
.left-panel{
  display:flex;
  flex-direction:column;
  gap:10px;
  min-height:0;
}

.search-box{
  display:flex;
  gap:8px;
}

.search-input{
  flex:1;
  padding:12px 16px;
  border-radius:999px;
  border:1px solid #d1d5db;
}

.search-button{
  padding:0 20px;
  border-radius:999px;
  border:none;
  background:#6366f1;
  color:#fff;
  font-weight:700;
  cursor:pointer;
}

.list-panel{
  flex:1;
  border:1px solid #e5e7eb;
  border-radius:18px;
  padding:10px;
  overflow:auto;
}

.macro-item{
  padding:10px;
  border-bottom:1px dashed #e5e7eb;
  cursor:pointer;
}

.macro-item:hover{background:#eef2ff}
.macro-item.active{
  background:#e0e7ff;
  font-weight:700;
}

/* ================= RIGHT ================= */
.editor-panel{
  border:1px solid #e5e7eb;
  border-radius:18px;
  padding:14px;
  background:#f9fafb;
  display:grid;
  grid-template-rows:auto 180px minmax(0,1fr);
  gap:12px;
  min-height:0;
}

/* 헤더 */
.editor-header{
  display:flex;
  flex-direction:column;
  gap:10px;
  padding-bottom:10px;
  border-bottom:1px solid #e5e7eb;
}

.header-top{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.editor-title{
  font-size:14px;
  font-weight:800;
}

.tone-controls button{
  padding:6px 12px;
  border-radius:999px;
  border:1px solid #d1d5db;
  background:#fff;
  font-weight:700;
  cursor:pointer;
}

.tone-controls .active{
  background:#eef2ff;
  border-color:#6366f1;
}

/* ===== 머리말 / 사과 / 꼬리말 (라디오 UI) ===== */
.snippet-radio-group{
  display:flex;
  align-items:center;
  gap:14px;
  font-size:12px;
}

.snippet-label{
  font-weight:700;
  color:#6b7280;
}

.snippet-radio{
  display:flex;
  align-items:center;
  gap:6px;
  cursor:pointer;
  user-select:none;
  font-weight:700;
}

.snippet-radio input{
  appearance:none;
  width:10px;
  height:10px;
  border-radius:50%;
  border:2px solid #d1d5db;
  position:relative;
}

.snippet-radio.active input{
  border-color:#6366f1;
}

.snippet-radio.active input::after{
  content:"";
  width:4px;
  height:4px;
  background:#6366f1;
  border-radius:50%;
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
}

/* 문의 */
.answer-row{
  border:1px solid #e5e7eb;
  border-radius:14px;
  padding:10px;
  display:grid;
  grid-template-columns:1fr auto;
  gap:10px;
}

.answer-row textarea{
  resize:none;
  border-radius:12px;
  border:1px solid #d1d5db;
  padding:10px;
}

.primary-btn{
  align-self:flex-end;
  padding:10px 14px;
  border-radius:999px;
  border:none;
  background:linear-gradient(130deg,#6366f1,#a855f7);
  color:#fff;
  font-weight:800;
  cursor:pointer;
}

/* 편집 */
.editor-wrap{
  display:grid;
  grid-template-rows:1fr auto;
  gap:10px;
  min-height:0;
}

.editor-textarea{
  resize:none;
  border-radius:14px;
  border:1px solid #d1d5db;
  padding:12px;
  font-size:13px;
}
</style>
</head>

<body>
<div class="app">
  <div class="app-body">

    <!-- LEFT -->
    <div class="left-panel">
      <div class="search-box">
        <input class="search-input" placeholder="검색" />
        <button class="search-button">검색</button>
      </div>

      <div class="list-panel" id="results"></div>
    </div>

    <!-- RIGHT -->
    <div class="editor-panel">

      <div class="editor-header">
        <div class="header-top">
          <div class="editor-title" id="editorTitle">메크로 선택</div>
          <div class="tone-controls">
            <button class="tone active">발랄</button>
            <button class="tone">차분</button>
          </div>
        </div>

        <!-- 라디오 삽입 -->
        <div class="snippet-radio-group">
          <span class="snippet-label">문구 삽입</span>

          <label class="snippet-radio active">
            <input type="radio" name="snippet" value="header" checked />
            머리말
          </label>

          <label class="snippet-radio">
            <input type="radio" name="snippet" value="apology" />
            사과
          </label>

          <label class="snippet-radio">
            <input type="radio" name="snippet" value="footer" />
            꼬리말
          </label>
        </div>
      </div>

      <!-- 문의 -->
      <div class="answer-row">
        <textarea placeholder="고객 문의"></textarea>
        <button class="primary-btn">답변 생성</button>
      </div>

      <!-- 편집 -->
      <div class="editor-wrap">
        <textarea id="editorTextarea" class="editor-textarea" placeholder="편집해 주세요"></textarea>
        <button class="primary-btn">AI로 다듬기</button>
      </div>

    </div>
  </div>
</div>

<script>
/* 샘플 데이터 */
const macros=[
  {title:"배송 지연",content:"배송이 지연되고 있습니다."},
  {title:"교환 안내",content:"교환 접수가 완료되었습니다."}
];

const results=document.getElementById("results");
const editorTextarea=document.getElementById("editorTextarea");
const editorTitle=document.getElementById("editorTitle");

/* 리스트 */
macros.forEach(m=>{
  const div=document.createElement("div");
  div.className="macro-item";
  div.textContent=m.title;
  div.onclick=()=>{
    document.querySelectorAll(".macro-item").forEach(x=>x.classList.remove("active"));
    div.classList.add("active");
    editorTitle.textContent=m.title;
    editorTextarea.value=m.content;
  };
  results.appendChild(div);
});

/* 기본 문구 */
const DEFAULT_HEADER="안녕하세요 고객님.";
const DEFAULT_APOLOGY="불편을 드려 죄송합니다.";
const DEFAULT_FOOTER="감사합니다.";

/* 삽입 */
function applySnippet(type){
  let text=editorTextarea.value.trim();
  if(type==="header" && !text.startsWith(DEFAULT_HEADER)){
    editorTextarea.value=DEFAULT_HEADER+"\n\n"+text;
  }
  if(type==="apology" && !text.includes(DEFAULT_APOLOGY)){
    editorTextarea.value=text+"\n\n"+DEFAULT_APOLOGY;
  }
  if(type==="footer" && !text.endsWith(DEFAULT_FOOTER)){
    editorTextarea.value=text+"\n\n"+DEFAULT_FOOTER;
  }
}

/* 라디오 클릭 = 즉시 삽입 */
const radios=document.querySelectorAll(".snippet-radio");
radios.forEach(label=>{
  label.addEventListener("click",()=>{
    radios.forEach(l=>l.classList.remove("active"));
    label.classList.add("active");
    const input=label.querySelector("input");
    input.checked=true;
    applySnippet(input.value);
  });
});
</script>
</body>
</html>
